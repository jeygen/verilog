new module pattern_detect(
	input wire s_in,
	input wire en,
	input wire reset,
	input wire clk,
	input reg [4-1:0] pattern,
	output pattern_detect
);

reg [4-1:0] buffer;
assign pattern = 4b'1111;

always @(posedge clk) begin
	if (en) begin
		if (reset) begin
			buffer <= 4b'0000;
		end
		else if (buffer == pattern) begin
			pattern_detect <= HI;
			buffer <= {buffer[4-1:1], s_in};
		end
		else begin
			pattern_detect <= LO;
			buffer <= {buffer[4-1:1], s_in};
		end
	end
end

end module;
